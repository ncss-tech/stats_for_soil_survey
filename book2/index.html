<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Statistics for Soil Survey - Part 2</title>
  <meta name="description" content="Web-based course content for Statistics for Soil Survey - Part 2 made with bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Statistics for Soil Survey - Part 2" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Web-based course content for Statistics for Soil Survey - Part 2 made with bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Statistics for Soil Survey - Part 2" />
  
  <meta name="twitter:description" content="Web-based course content for Statistics for Soil Survey - Part 2 made with bookdown::gitbook." />
  

<meta name="author" content="Soil Survey Staff" />


<meta name="date" content="2022-02-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="intro.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="../book/index.html">Statistics for Soil Survey - Part 1</a></li>
<li><a href="index.html">Statistics for Soil Survey - Part 2</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Pre-course Assignment</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#setup"><i class="fa fa-check"></i><b>0.1</b> Setup</a>
<ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#create-workspace"><i class="fa fa-check"></i><b>0.1.1</b> Create Workspace</a></li>
<li class="chapter" data-level="0.1.2" data-path="index.html"><a href="index.html#configure-rstudio"><i class="fa fa-check"></i><b>0.1.2</b> Configure RStudio</a></li>
<li class="chapter" data-level="0.1.3" data-path="index.html"><a href="index.html#install-.rprofile"><i class="fa fa-check"></i><b>0.1.3</b> Install .RProfile</a></li>
<li class="chapter" data-level="0.1.4" data-path="index.html"><a href="index.html#install-required-packages"><i class="fa fa-check"></i><b>0.1.4</b> Install Required Packages</a></li>
<li class="chapter" data-level="0.1.5" data-path="index.html"><a href="index.html#common-errors"><i class="fa fa-check"></i><b>0.1.5</b> Common Errors</a></li>
<li class="chapter" data-level="0.1.6" data-path="index.html"><a href="index.html#packages-not-on-cran"><i class="fa fa-check"></i><b>0.1.6</b> Packages not on CRAN</a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#connect-to-local-nasis"><i class="fa fa-check"></i><b>0.2</b> Connect to Local NASIS</a>
<ul>
<li class="chapter" data-level="0.2.1" data-path="index.html"><a href="index.html#demonstrate-a-working-connection"><i class="fa fa-check"></i><b>0.2.1</b> Demonstrate a Working Connection</a></li>
</ul></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#additional-supportoptional-readings"><i class="fa fa-check"></i><b>0.3</b> Additional Support/Optional Readings</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#outline"><i class="fa fa-check"></i><b>1.1</b> Outline</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="uncertainty.html"><a href="uncertainty.html"><i class="fa fa-check"></i><b>2</b> Uncertainty</a>
<ul>
<li class="chapter" data-level="2.1" data-path="uncertainty.html"><a href="uncertainty.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="uncertainty.html"><a href="uncertainty.html#exercise---dispersion"><i class="fa fa-check"></i><b>2.1.1</b> Exercise - Dispersion</a></li>
<li class="chapter" data-level="2.1.2" data-path="uncertainty.html"><a href="uncertainty.html#exercise---variation-and-certainty"><i class="fa fa-check"></i><b>2.1.2</b> Exercise - Variation and Certainty</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="uncertainty.html"><a href="uncertainty.html#theory-of-uncertainty"><i class="fa fa-check"></i><b>2.2</b> Theory of Uncertainty</a></li>
<li class="chapter" data-level="2.3" data-path="uncertainty.html"><a href="uncertainty.html#resampling-to-estimate-uncertainty"><i class="fa fa-check"></i><b>2.3</b> Resampling to Estimate Uncertainty</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="uncertainty.html"><a href="uncertainty.html#exercise---resampling"><i class="fa fa-check"></i><b>2.3.1</b> Exercise - Resampling</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="uncertainty.html"><a href="uncertainty.html#performance-metrics"><i class="fa fa-check"></i><b>2.4</b> Performance Metrics</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="uncertainty.html"><a href="uncertainty.html#exercise---numeric-metrics"><i class="fa fa-check"></i><b>2.4.1</b> Exercise - Numeric Metrics</a></li>
<li class="chapter" data-level="2.4.2" data-path="uncertainty.html"><a href="uncertainty.html#exercise---categorical-metrics"><i class="fa fa-check"></i><b>2.4.2</b> Exercise - Categorical Metrics</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="uncertainty.html"><a href="uncertainty.html#validation"><i class="fa fa-check"></i><b>2.5</b> Validation</a></li>
<li class="chapter" data-level="2.6" data-path="uncertainty.html"><a href="uncertainty.html#apparent-validation"><i class="fa fa-check"></i><b>2.6</b> Apparent Validation</a></li>
<li class="chapter" data-level="2.7" data-path="uncertainty.html"><a href="uncertainty.html#inherent-validation"><i class="fa fa-check"></i><b>2.7</b> Inherent Validation</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="uncertainty.html"><a href="uncertainty.html#split-sample---a-single-partition-of-the-data-into-a-learning-and-a-calibration-set."><i class="fa fa-check"></i><b>2.7.1</b> Split-sample - A single partition of the data into a learning and a calibration set.</a></li>
<li class="chapter" data-level="2.7.2" data-path="uncertainty.html"><a href="uncertainty.html#cross-validation---alternate-development-and-validation"><i class="fa fa-check"></i><b>2.7.2</b> Cross-validation - Alternate development and validation</a></li>
<li class="chapter" data-level="2.7.3" data-path="uncertainty.html"><a href="uncertainty.html#subsample-resampling-or-sample-simulation"><i class="fa fa-check"></i><b>2.7.3</b> Subsample (Resampling or sample simulation)</a></li>
<li class="chapter" data-level="2.7.4" data-path="uncertainty.html"><a href="uncertainty.html#external-validation"><i class="fa fa-check"></i><b>2.7.4</b> External Validation</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="uncertainty.html"><a href="uncertainty.html#additional-reading"><i class="fa fa-check"></i><b>2.8</b> Additional reading</a></li>
<li class="chapter" data-level="2.9" data-path="uncertainty.html"><a href="uncertainty.html#move-to-.bib-refs"><i class="fa fa-check"></i><b>2.9</b> Move to .bib Refs</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="numerical-tax.html"><a href="numerical-tax.html"><i class="fa fa-check"></i><b>3</b> Numerical Taxonomy and Ordination</a>
<ul>
<li class="chapter" data-level="3.1" data-path="numerical-tax.html"><a href="numerical-tax.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="numerical-tax.html"><a href="numerical-tax.html#objectives"><i class="fa fa-check"></i><b>3.1.1</b> Objectives</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="numerical-tax.html"><a href="numerical-tax.html#whirlwind-tour"><i class="fa fa-check"></i><b>3.2</b> Whirlwind Tour</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="numerical-tax.html"><a href="numerical-tax.html#similarity-disimilarty-and-distance"><i class="fa fa-check"></i><b>3.2.1</b> Similarity, Disimilarty, and Distance</a></li>
<li class="chapter" data-level="3.2.2" data-path="numerical-tax.html"><a href="numerical-tax.html#standardization-of-characteristics"><i class="fa fa-check"></i><b>3.2.2</b> Standardization of Characteristics</a></li>
<li class="chapter" data-level="3.2.3" data-path="numerical-tax.html"><a href="numerical-tax.html#missing-data"><i class="fa fa-check"></i><b>3.2.3</b> Missing Data</a></li>
<li class="chapter" data-level="3.2.4" data-path="numerical-tax.html"><a href="numerical-tax.html#visualizing-pair-wise-distances-the-dendrogram"><i class="fa fa-check"></i><b>3.2.4</b> Visualizing Pair-Wise Distances: The Dendrogram</a></li>
<li class="chapter" data-level="3.2.5" data-path="numerical-tax.html"><a href="numerical-tax.html#re-arranging-a-dendrogram-for-clarity"><i class="fa fa-check"></i><b>3.2.5</b> Re-arranging a Dendrogram for Clarity</a></li>
<li class="chapter" data-level="3.2.6" data-path="numerical-tax.html"><a href="numerical-tax.html#cluster-analysis-finding-groups-in-data"><i class="fa fa-check"></i><b>3.2.6</b> Cluster Analysis: Finding Groups in Data</a></li>
<li class="chapter" data-level="3.2.7" data-path="numerical-tax.html"><a href="numerical-tax.html#ordination-visualization-in-a-reduced-space"><i class="fa fa-check"></i><b>3.2.7</b> Ordination: Visualization in a Reduced Space</a></li>
<li class="chapter" data-level="3.2.8" data-path="numerical-tax.html"><a href="numerical-tax.html#review-and-discuss-4"><i class="fa fa-check"></i><b>3.2.8</b> Review and Discuss</a></li>
<li class="chapter" data-level="3.2.9" data-path="numerical-tax.html"><a href="numerical-tax.html#pair-wise-distances-between-soil-profiles"><i class="fa fa-check"></i><b>3.2.9</b> Pair-Wise Distances Between Soil Profiles</a></li>
<li class="chapter" data-level="3.2.10" data-path="numerical-tax.html"><a href="numerical-tax.html#final-discussion"><i class="fa fa-check"></i><b>3.2.10</b> Final Discussion</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="numerical-tax.html"><a href="numerical-tax.html#excercises"><i class="fa fa-check"></i><b>3.3</b> Excercises</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="numerical-tax.html"><a href="numerical-tax.html#set-up-the-r-session"><i class="fa fa-check"></i><b>3.3.1</b> Set Up the R Session</a></li>
<li class="chapter" data-level="3.3.2" data-path="numerical-tax.html"><a href="numerical-tax.html#evaluating-missing-data"><i class="fa fa-check"></i><b>3.3.2</b> Evaluating Missing Data</a></li>
<li class="chapter" data-level="3.3.3" data-path="numerical-tax.html"><a href="numerical-tax.html#more-on-the-distance-matrix-and-how-to-make-one"><i class="fa fa-check"></i><b>3.3.3</b> More on the Distance Matrix and How to Make One</a></li>
<li class="chapter" data-level="3.3.4" data-path="numerical-tax.html"><a href="numerical-tax.html#hierachrical-clustering"><i class="fa fa-check"></i><b>3.3.4</b> Hierachrical Clustering</a></li>
<li class="chapter" data-level="3.3.5" data-path="numerical-tax.html"><a href="numerical-tax.html#centroid-and-medoid-partitioning-clustering-1"><i class="fa fa-check"></i><b>3.3.5</b> Centroid and Medoid (Partitioning) Clustering</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="numerical-tax.html"><a href="numerical-tax.html#practical-applications"><i class="fa fa-check"></i><b>3.4</b> Practical Applications</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="numerical-tax.html"><a href="numerical-tax.html#pair-wise-distances-between-soil-profiles-1"><i class="fa fa-check"></i><b>3.4.1</b> Pair-Wise Distances Between Soil Profiles</a></li>
<li class="chapter" data-level="3.4.2" data-path="numerical-tax.html"><a href="numerical-tax.html#pair-wise-distances-between-soil-series"><i class="fa fa-check"></i><b>3.4.2</b> Pair-Wise Distances Between Soil Series</a></li>
<li class="chapter" data-level="3.4.3" data-path="numerical-tax.html"><a href="numerical-tax.html#pair-wise-distances-between-subgroup-level-taxa"><i class="fa fa-check"></i><b>3.4.3</b> Pair-Wise Distances Between Subgroup-Level Taxa</a></li>
<li class="chapter" data-level="3.4.4" data-path="numerical-tax.html"><a href="numerical-tax.html#soil-color-signatures"><i class="fa fa-check"></i><b>3.4.4</b> Soil Color Signatures</a></li>
<li class="chapter" data-level="3.4.5" data-path="numerical-tax.html"><a href="numerical-tax.html#clustering-of-soil-colors"><i class="fa fa-check"></i><b>3.4.5</b> Clustering of Soil Colors</a></li>
<li class="chapter" data-level="3.4.6" data-path="numerical-tax.html"><a href="numerical-tax.html#how-do-the-interpretations-compare"><i class="fa fa-check"></i><b>3.4.6</b> “How Do the Interpretations Compare?”</a></li>
<li class="chapter" data-level="3.4.7" data-path="numerical-tax.html"><a href="numerical-tax.html#mlra-concepts-via-climate-and-elevation-samples"><i class="fa fa-check"></i><b>3.4.7</b> MLRA Concepts via Climate and Elevation Samples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>4</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="4.1" data-path="linear-regression.html"><a href="linear-regression.html#introduction-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="linear-regression.html"><a href="linear-regression.html#linear-regression-example"><i class="fa fa-check"></i><b>4.2</b> Linear Regression Example</a></li>
<li class="chapter" data-level="4.3" data-path="linear-regression.html"><a href="linear-regression.html#data"><i class="fa fa-check"></i><b>4.3</b> Data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="linear-regression.html"><a href="linear-regression.html#henry-mount-database"><i class="fa fa-check"></i><b>4.3.1</b> Henry Mount Database</a></li>
<li class="chapter" data-level="4.3.2" data-path="linear-regression.html"><a href="linear-regression.html#aggregate-time-series"><i class="fa fa-check"></i><b>4.3.2</b> Aggregate Time Series</a></li>
<li class="chapter" data-level="4.3.3" data-path="linear-regression.html"><a href="linear-regression.html#final-dataset"><i class="fa fa-check"></i><b>4.3.3</b> Final Dataset</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="linear-regression.html"><a href="linear-regression.html#spatial-data"><i class="fa fa-check"></i><b>4.4</b> Spatial data</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="linear-regression.html"><a href="linear-regression.html#plot-coordinates"><i class="fa fa-check"></i><b>4.4.1</b> Plot Coordinates</a></li>
<li class="chapter" data-level="4.4.2" data-path="linear-regression.html"><a href="linear-regression.html#extracting-spatial-data"><i class="fa fa-check"></i><b>4.4.2</b> Extracting Spatial Data</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="linear-regression.html"><a href="linear-regression.html#exploratory-data-analysis-eda"><i class="fa fa-check"></i><b>4.5</b> Exploratory Data Analysis (EDA)</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="linear-regression.html"><a href="linear-regression.html#compare-samples-vs-population"><i class="fa fa-check"></i><b>4.5.1</b> Compare Samples vs Population</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="linear-regression.html"><a href="linear-regression.html#linear-modeling"><i class="fa fa-check"></i><b>4.6</b> Linear modeling</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="linear-regression.html"><a href="linear-regression.html#diagnostics"><i class="fa fa-check"></i><b>4.6.1</b> Diagnostics</a></li>
<li class="chapter" data-level="4.6.2" data-path="linear-regression.html"><a href="linear-regression.html#variable-selection-model-validation"><i class="fa fa-check"></i><b>4.6.2</b> Variable selection &amp; model validation</a></li>
<li class="chapter" data-level="4.6.3" data-path="linear-regression.html"><a href="linear-regression.html#final-model-accuracy-assessment"><i class="fa fa-check"></i><b>4.6.3</b> Final model &amp; accuracy assessment</a></li>
<li class="chapter" data-level="4.6.4" data-path="linear-regression.html"><a href="linear-regression.html#model-effects"><i class="fa fa-check"></i><b>4.6.4</b> Model Effects</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="linear-regression.html"><a href="linear-regression.html#generate-spatial-predictions"><i class="fa fa-check"></i><b>4.7</b> Generate spatial predictions</a></li>
<li class="chapter" data-level="4.8" data-path="linear-regression.html"><a href="linear-regression.html#create-map"><i class="fa fa-check"></i><b>4.8</b> Create Map</a></li>
<li class="chapter" data-level="4.9" data-path="linear-regression.html"><a href="linear-regression.html#additional-reading-1"><i class="fa fa-check"></i><b>4.9</b> Additional reading</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="glm.html"><a href="glm.html"><i class="fa fa-check"></i><b>5</b> Generalized Linear Models</a>
<ul>
<li class="chapter" data-level="5.1" data-path="glm.html"><a href="glm.html#introduction-3"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="glm.html"><a href="glm.html#logistic-regression"><i class="fa fa-check"></i><b>5.2</b> Logistic Regression</a></li>
<li class="chapter" data-level="5.3" data-path="glm.html"><a href="glm.html#examples"><i class="fa fa-check"></i><b>5.3</b> Examples</a></li>
<li class="chapter" data-level="5.4" data-path="glm.html"><a href="glm.html#exercise"><i class="fa fa-check"></i><b>5.4</b> Exercise</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="glm.html"><a href="glm.html#load-packages"><i class="fa fa-check"></i><b>5.4.1</b> Load packages</a></li>
<li class="chapter" data-level="5.4.2" data-path="glm.html"><a href="glm.html#read-in-data"><i class="fa fa-check"></i><b>5.4.2</b> Read in data</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="glm.html"><a href="glm.html#exploratory-analysis-eda"><i class="fa fa-check"></i><b>5.5</b> Exploratory analysis (EDA)</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="glm.html"><a href="glm.html#data-wrangling"><i class="fa fa-check"></i><b>5.5.1</b> Data wrangling</a></li>
<li class="chapter" data-level="5.5.2" data-path="glm.html"><a href="glm.html#geomorphic-data"><i class="fa fa-check"></i><b>5.5.2</b> Geomorphic data</a></li>
<li class="chapter" data-level="5.5.3" data-path="glm.html"><a href="glm.html#soil-scientist-bias"><i class="fa fa-check"></i><b>5.5.3</b> Soil Scientist Bias</a></li>
<li class="chapter" data-level="5.5.4" data-path="glm.html"><a href="glm.html#plot-coordinates-1"><i class="fa fa-check"></i><b>5.5.4</b> Plot coordinates</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="glm.html"><a href="glm.html#exercise-1-view-the-data"><i class="fa fa-check"></i><b>5.6</b> Exercise 1: View the data</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="glm.html"><a href="glm.html#extracting-spatial-data-1"><i class="fa fa-check"></i><b>5.6.1</b> Extracting spatial data</a></li>
<li class="chapter" data-level="5.6.2" data-path="glm.html"><a href="glm.html#examine-spatial-data"><i class="fa fa-check"></i><b>5.6.2</b> Examine spatial data</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="glm.html"><a href="glm.html#constructing-the-model"><i class="fa fa-check"></i><b>5.7</b> Constructing the model</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="glm.html"><a href="glm.html#diagnostic"><i class="fa fa-check"></i><b>5.7.1</b> Diagnostic</a></li>
<li class="chapter" data-level="5.7.2" data-path="glm.html"><a href="glm.html#variable-selection-model-validation-1"><i class="fa fa-check"></i><b>5.7.2</b> Variable Selection &amp; model validation</a></li>
<li class="chapter" data-level="5.7.3" data-path="glm.html"><a href="glm.html#final-model-accuracy"><i class="fa fa-check"></i><b>5.7.3</b> Final model &amp; accuracy</a></li>
<li class="chapter" data-level="5.7.4" data-path="glm.html"><a href="glm.html#model-effects-1"><i class="fa fa-check"></i><b>5.7.4</b> Model effects</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="glm.html"><a href="glm.html#generate-spatial-predictions-1"><i class="fa fa-check"></i><b>5.8</b> Generate spatial predictions</a></li>
<li class="chapter" data-level="5.9" data-path="glm.html"><a href="glm.html#additional-reading-2"><i class="fa fa-check"></i><b>5.9</b> Additional reading</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tree-based-models.html"><a href="tree-based-models.html"><i class="fa fa-check"></i><b>6</b> Tree-based Models</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tree-based-models.html"><a href="tree-based-models.html#introduction-4"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="tree-based-models.html"><a href="tree-based-models.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>6.2</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="tree-based-models.html"><a href="tree-based-models.html#getting-data-into-r-and-exporting-to-shapefile"><i class="fa fa-check"></i><b>6.2.1</b> Getting Data Into R and Exporting to Shapefile</a></li>
<li class="chapter" data-level="6.2.2" data-path="tree-based-models.html"><a href="tree-based-models.html#examining-data-in-r"><i class="fa fa-check"></i><b>6.2.2</b> Examining Data in R</a></li>
<li class="chapter" data-level="6.2.3" data-path="tree-based-models.html"><a href="tree-based-models.html#exercise-1"><i class="fa fa-check"></i><b>6.2.3</b> Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="tree-based-models.html"><a href="tree-based-models.html#classification-and-regression-trees-cart"><i class="fa fa-check"></i><b>6.3</b> Classification and Regression Trees (CART)</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="tree-based-models.html"><a href="tree-based-models.html#exercise-2-rpart"><i class="fa fa-check"></i><b>6.3.1</b> Exercise 2: rpart</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="tree-based-models.html"><a href="tree-based-models.html#random-forest"><i class="fa fa-check"></i><b>6.4</b> Random Forest</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="tree-based-models.html"><a href="tree-based-models.html#exercise-3-randomforest"><i class="fa fa-check"></i><b>6.4.1</b> Exercise 3: randomForest</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="tree-based-models.html"><a href="tree-based-models.html#prediction-using-tree-based-models"><i class="fa fa-check"></i><b>6.5</b> Prediction using Tree-based Models</a></li>
<li class="chapter" data-level="6.6" data-path="tree-based-models.html"><a href="tree-based-models.html#summary"><i class="fa fa-check"></i><b>6.6</b> Summary</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html"><i class="fa fa-check"></i><b>A</b> Accuracy and Uncertainty for Categorical Predictions</a>
<ul>
<li class="chapter" data-level="A.1" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#status-quo"><i class="fa fa-check"></i><b>A.1</b> Status Quo</a></li>
<li class="chapter" data-level="A.2" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#theses"><i class="fa fa-check"></i><b>A.2</b> Theses</a></li>
<li class="chapter" data-level="A.3" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#soap-box-time"><i class="fa fa-check"></i><b>A.3</b> Soap Box Time</a></li>
<li class="chapter" data-level="A.4" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#concept-demonstration-via-simulated-data"><i class="fa fa-check"></i><b>A.4</b> Concept Demonstration via Simulated Data</a></li>
<li class="chapter" data-level="A.5" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#accuracy"><i class="fa fa-check"></i><b>A.5</b> Accuracy</a>
<ul>
<li class="chapter" data-level="A.5.1" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#confusion-matrix-area-under-roc"><i class="fa fa-check"></i><b>A.5.1</b> Confusion Matrix / Area Under ROC</a></li>
<li class="chapter" data-level="A.5.2" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#brier-scores"><i class="fa fa-check"></i><b>A.5.2</b> Brier Scores</a></li>
<li class="chapter" data-level="A.5.3" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#tau-and-weighted-tau-class-similarity"><i class="fa fa-check"></i><b>A.5.3</b> Tau and Weighted Tau (class-similarity)</a></li>
</ul></li>
<li class="chapter" data-level="A.6" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#uncertainty-1"><i class="fa fa-check"></i><b>A.6</b> Uncertainty</a>
<ul>
<li class="chapter" data-level="A.6.1" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#shanon-entropy"><i class="fa fa-check"></i><b>A.6.1</b> Shanon Entropy</a></li>
</ul></li>
<li class="chapter" data-level="A.7" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#review"><i class="fa fa-check"></i><b>A.7</b> Review</a></li>
<li class="chapter" data-level="A.8" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#example-implementation"><i class="fa fa-check"></i><b>A.8</b> Example Implementation</a></li>
<li class="chapter" data-level="A.9" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#resources"><i class="fa fa-check"></i><b>A.9</b> Resources</a>
<ul>
<li class="chapter" data-level="A.9.1" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#evaluating-accuracy-of-categorical-probabilistic-predictions"><i class="fa fa-check"></i><b>A.9.1</b> Evaluating Accuracy of Categorical / Probabilistic Predictions</a></li>
<li class="chapter" data-level="A.9.2" data-path="acc-unc-categorical-data.html"><a href="acc-unc-categorical-data.html#sampling-and-stability-of-estimates"><i class="fa fa-check"></i><b>A.9.2</b> Sampling and Stability of Estimates</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="commentary-selecting-a-modeling-framework.html"><a href="commentary-selecting-a-modeling-framework.html"><i class="fa fa-check"></i><b>B</b> Commentary: Selecting a Modeling Framework</a>
<ul>
<li class="chapter" data-level="B.1" data-path="commentary-selecting-a-modeling-framework.html"><a href="commentary-selecting-a-modeling-framework.html#soil-temperature-regime-modeling-in-ca792"><i class="fa fa-check"></i><b>B.1</b> Soil Temperature Regime Modeling in CA792</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistics for Soil Survey - Part 2</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Statistics for Soil Survey - Part 2</h1>
<p class="author"><em>Soil Survey Staff</em></p>
<p class="date"><em>2022-02-24</em></p>
</div>
<div id="pre-course-assignment" class="section level1 unnumbered">
<h1>Pre-course Assignment</h1>
<p><img src="static-figures/logo.jpg" /></p>
<div id="setup" class="section level2" number="0.1">
<h2><span class="header-section-number">0.1</span> Setup</h2>
<div id="create-workspace" class="section level3" number="0.1.1">
<h3><span class="header-section-number">0.1.1</span> Create Workspace</h3>
<p>Make a local folder <code>C:\workspace2</code> to use as a working directory for this course. Use all lower case letters please.</p>
</div>
<div id="configure-rstudio" class="section level3" number="0.1.2">
<h3><span class="header-section-number">0.1.2</span> Configure RStudio</h3>
<p>Open <strong>RStudio</strong>, and edit the “Global Options” (Main menu: <strong>Tools → Global Options</strong>).</p>
<div id="essentials" class="section level4" number="0.1.2.1">
<h4><span class="header-section-number">0.1.2.1</span> Essentials</h4>
<p>These options are important for pleasant, reproducible and efficient use of the <strong>RStudio</strong> environment:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Change</strong> the default working directory to <code>C:\workspace2</code> (<strong>R</strong> General Tab)</p></li>
<li><p><font style="color:red"><strong>Uncheck</strong></font> “Restore .Rdata into workspace at startup” (<strong>R</strong> General Tab) <font style="color:red"><strong>VERY IMPORTANT</strong></font></p></li>
</ol>
<div class="figure">
<img src="static-figures/rstudio_options_general.png" alt="" />
<p class="caption">Figure 1: Example of RStudio General settings.</p>
</div>
<p><strong>RStudio</strong> detects the available <strong>R</strong> installations on your computer.</p>
<p>Individual versions are certified for the Software Center as they become available, and sometimes there is a more recent version available for download. It is worth taking the time <em>before installing packages</em> to get the latest version of <strong>R</strong> available to you. This is to minimize compatibility issues which arise over time.</p>
</div>
<div id="personalization" class="section level4" number="0.1.2.2">
<h4><span class="header-section-number">0.1.2.2</span> Personalization</h4>
<div class="figure">
<img src="static-figures/rstudio_options_code.png" alt="" />
<p class="caption">Figure 2: Example of RStudio Code/Editing settings.</p>
</div>
<ul>
<li><p>Optional: Check “Soft-wrap <strong>R</strong> source files” (Code/Editing Tab)</p></li>
<li><p>Optional: Show help tooltips, control auto-completion and diagnostics (Code/Completion and Diagnostics Tabs)</p></li>
<li><p>Optional: Update code font size, colors and theme (Appearance)</p></li>
<li><p>Optional: Use <strong>RStudio</strong> Projects (top-right corner) to manage working directories</p></li>
</ul>
</div>
</div>
<div id="install-.rprofile" class="section level3" number="0.1.3">
<h3><span class="header-section-number">0.1.3</span> Install .RProfile</h3>
<p>The code you run next will establish a <em>safe</em> location for your <strong>R</strong> package library.</p>
<p>Your package library should ideally be on a local disk with about 1 - 2 GB of free space.</p>
<p>We want to prevent installs to <code>~</code> (your <code>$HOME</code> directory) which is typically on a network share (such as <code>H:/</code>), not a local disk.</p>
<p><strong>Copy</strong> the following code in the box below and <strong>paste</strong> into the <strong>R</strong> console panel after the command prompt (<code>&gt;</code>) and press <strong>enter</strong>.</p>
<p><em>Hint: the <strong>R</strong> console is the lower left or left window in RStudio with a tab labeled “Console.”</em></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r codeBlocks"><code class="sourceCode r"><span id="cb1-1"><a href="index.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&#39;https://raw.githubusercontent.com/ncss-tech/soilReports/master/R/installRprofile.R&#39;</span>)</span>
<span id="cb1-2"><a href="index.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">installRprofile</span>(<span class="at">overwrite=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p>An updated set of library paths will be printed. Close and re-open <strong>RStudio</strong>, or Restart <strong>R</strong> (Main menu: <strong>Session → Restart R</strong>; or <strong>Ctrl+Shift+F10</strong>), before continuing to the next steps.</p>
<div class="figure">
<img src="static-figures/rconsole.png" alt="" />
<p class="caption">Figure 3: Example of RStudio Console - the R library paths are on a local drive “C:/”</p>
</div>
<p>When your <code>.Rprofile</code> is set up correctly you will see output in a new <strong>R</strong> console/session confirming your <em>library paths</em> are:</p>
<ol style="list-style-type: decimal">
<li><p>on a local drive (such as <code>C:/</code>)</p></li>
<li><p>specific to the version number of <strong>R</strong> installed (such as <code>4.0</code>)</p></li>
</ol>
</div>
<div id="install-required-packages" class="section level3" number="0.1.4">
<h3><span class="header-section-number">0.1.4</span> Install Required Packages</h3>
<p>Packages can be installed by name from the Comprehensive <strong>R</strong> Archive Network (CRAN) using the base <strong>R</strong> function <code>install.packages</code></p>
<p>There are a lot of packages out there – many more than you will download here, and many of which are useful for Soil Survey work.</p>
<p>The first time you install packages, <strong>R</strong> will ask you if you want to create a local repository in your User <code>Documents</code> folder.
Click <strong>Yes</strong>.</p>
<p>For example, to download and install the <code>remotes</code> package from CRAN:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r codeBlocks"><code class="sourceCode r"><span id="cb2-1"><a href="index.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;remotes&quot;</span>)</span></code></pre></div>
<p>To install the <strong>R</strong> packages used in this class copy all of the code from the box below and paste into the <strong>R</strong> console window. Paste after the command prompt (<code>&gt;</code>) and press <strong>enter</strong>.</p>
<p>Downloading and configuring the packages will take a while if you are installing or upgrading all of the packages in the list below.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r codeBlocks"><code class="sourceCode r"><span id="cb3-1"><a href="index.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ipkCRAN: a helper function for installing required packages from CRAN</span></span>
<span id="cb3-2"><a href="index.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># - p: vector of package names</span></span>
<span id="cb3-3"><a href="index.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># - up: logical - upgrade installed packages? Default: TRUE</span></span>
<span id="cb3-4"><a href="index.html#cb3-4" aria-hidden="true" tabindex="-1"></a>ipkCRAN <span class="ot">&lt;-</span> <span class="cf">function</span>(p, <span class="at">up =</span> <span class="cn">TRUE</span>){</span>
<span id="cb3-5"><a href="index.html#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">&#39;installing packages from CRAN...&#39;</span>)</span>
<span id="cb3-6"><a href="index.html#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (up) {</span>
<span id="cb3-7"><a href="index.html#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># default is to re-install everything</span></span>
<span id="cb3-8"><a href="index.html#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">install.packages</span>(p, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-9"><a href="index.html#cb3-9" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb3-10"><a href="index.html#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># but if up != TRUE install just what is needed</span></span>
<span id="cb3-11"><a href="index.html#cb3-11" aria-hidden="true" tabindex="-1"></a>    new.pkg <span class="ot">&lt;-</span> p[<span class="sc">!</span> (p <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[, <span class="st">&quot;Package&quot;</span>])]</span>
<span id="cb3-12"><a href="index.html#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">length</span>(new.pkg) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb3-13"><a href="index.html#cb3-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">install.packages</span>(new.pkg, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-14"><a href="index.html#cb3-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-15"><a href="index.html#cb3-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-16"><a href="index.html#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># finally, check and see if any failed</span></span>
<span id="cb3-17"><a href="index.html#cb3-17" aria-hidden="true" tabindex="-1"></a>  missing.pkg <span class="ot">&lt;-</span> p[<span class="sc">!</span> (p <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[, <span class="st">&quot;Package&quot;</span>])]</span>
<span id="cb3-18"><a href="index.html#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(missing.pkg) <span class="sc">&gt;</span> <span class="dv">0</span>) { </span>
<span id="cb3-19"><a href="index.html#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">warning</span>(<span class="fu">sprintf</span>(<span class="st">&#39;</span><span class="sc">\033</span><span class="st">[31mOne or more packages failed to install!</span><span class="sc">\033</span><span class="st">[39m</span><span class="sc">\n</span><span class="st">%s&#39;</span>,</span>
<span id="cb3-20"><a href="index.html#cb3-20" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">sprintf</span>(<span class="st">&quot;Restart R then try `</span><span class="sc">\033</span><span class="st">[35minstall.packages(c(%s))</span><span class="sc">\033</span><span class="st">[39m`&quot;</span>,</span>
<span id="cb3-21"><a href="index.html#cb3-21" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">paste0</span>(<span class="fu">sprintf</span>(<span class="st">&#39;&quot;%s&quot;&#39;</span>, missing.pkg), <span class="at">collapse =</span> <span class="st">&quot;,&quot;</span>))), <span class="at">call. =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-22"><a href="index.html#cb3-22" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-23"><a href="index.html#cb3-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-24"><a href="index.html#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="index.html#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="do">## character vector of packages</span></span>
<span id="cb3-26"><a href="index.html#cb3-26" aria-hidden="true" tabindex="-1"></a>packages <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb3-27"><a href="index.html#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># soil</span></span>
<span id="cb3-28"><a href="index.html#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;aqp&quot;</span>, <span class="st">&quot;soilDB&quot;</span>, <span class="st">&quot;sharpshootR&quot;</span>, <span class="st">&quot;soiltexture&quot;</span>,</span>
<span id="cb3-29"><a href="index.html#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># gis</span></span>
<span id="cb3-30"><a href="index.html#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;rgdal&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;sp&quot;</span>, <span class="st">&quot;sf&quot;</span>, <span class="st">&quot;terra&quot;</span>, <span class="st">&quot;gdalUtils&quot;</span>, </span>
<span id="cb3-31"><a href="index.html#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;rgrass7&quot;</span>, <span class="st">&quot;RSAGA&quot;</span>, <span class="st">&quot;exactextractr&quot;</span>, <span class="st">&quot;fasterize&quot;</span>,</span>
<span id="cb3-32"><a href="index.html#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># data management</span></span>
<span id="cb3-33"><a href="index.html#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;dplyr&quot;</span>, <span class="st">&quot;tidyr&quot;</span>, <span class="st">&quot;devtools&quot;</span>, <span class="st">&quot;roxygen2&quot;</span>, <span class="st">&quot;Hmisc&quot;</span>, <span class="st">&quot;RODBC&quot;</span>, <span class="st">&quot;circular&quot;</span>, <span class="st">&quot;DT&quot;</span>, <span class="st">&quot;remotes&quot;</span>,</span>
<span id="cb3-34"><a href="index.html#cb3-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># graphics</span></span>
<span id="cb3-35"><a href="index.html#cb3-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;ggplot2&quot;</span>, <span class="st">&quot;latticeExtra&quot;</span>, <span class="st">&quot;maps&quot;</span>, <span class="st">&quot;spData&quot;</span>, <span class="st">&quot;tmap&quot;</span>, </span>
<span id="cb3-36"><a href="index.html#cb3-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;mapview&quot;</span>, <span class="st">&quot;plotrix&quot;</span>, <span class="st">&quot;rpart.plot&quot;</span>, <span class="st">&quot;visreg&quot;</span>,</span>
<span id="cb3-37"><a href="index.html#cb3-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># modeling</span></span>
<span id="cb3-38"><a href="index.html#cb3-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;car&quot;</span>, <span class="st">&quot;rms&quot;</span>, <span class="st">&quot;randomForest&quot;</span>, <span class="st">&quot;ranger&quot;</span>, <span class="st">&quot;party&quot;</span>, <span class="st">&quot;caret&quot;</span>, <span class="st">&quot;vegan&quot;</span>, <span class="st">&quot;ape&quot;</span>, <span class="st">&quot;shape&quot;</span>,</span>
<span id="cb3-39"><a href="index.html#cb3-39" aria-hidden="true" tabindex="-1"></a>  <span class="co"># sampling</span></span>
<span id="cb3-40"><a href="index.html#cb3-40" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;clhs&quot;</span></span>
<span id="cb3-41"><a href="index.html#cb3-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-42"><a href="index.html#cb3-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-43"><a href="index.html#cb3-43" aria-hidden="true" tabindex="-1"></a><span class="do">## install vector of CRAN packages &quot;safely&quot;</span></span>
<span id="cb3-44"><a href="index.html#cb3-44" aria-hidden="true" tabindex="-1"></a><span class="do">##  up = TRUE to download all packages </span></span>
<span id="cb3-45"><a href="index.html#cb3-45" aria-hidden="true" tabindex="-1"></a><span class="do">##  up = FALSE to download only packages you don&#39;t already have installed</span></span>
<span id="cb3-46"><a href="index.html#cb3-46" aria-hidden="true" tabindex="-1"></a><span class="fu">ipkCRAN</span>(packages, <span class="at">up =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>The <code>ipkCRAN</code> function will let you know if any of the above packages fail to install.</p>
<p>Any time you run code, <em>always</em> check the console output for warnings and errors before continuing. If a lot of output is produced by a command you should scroll up and sift through. It may be best early on to send commands <em>individually</em> to learn about and inspect their output.</p>
</div>
<div id="common-errors" class="section level3" number="0.1.5">
<h3><span class="header-section-number">0.1.5</span> Common Errors</h3>
<div id="no-output-is-produced-after-pasting-into-console" class="section level4" number="0.1.5.1">
<h4><span class="header-section-number">0.1.5.1</span> No output is produced after pasting into console</h4>
<p>If you do not have a new command prompt (<code>&gt;</code>) and a blinking cursor on the left hand side of your console, but instead see a <code>+</code> after you run a command, <strong>R</strong> may think you are still in the middle of submitting input to the “read-eval-print-loop” (REPL).</p>
<p>If this is not expected you are possibly missing closing quotes, braces, brackets or parentheses. <strong>R</strong> needs to know you were done with your expression, so you may need to supply some input to get the command to be complete. You can use the shortcut <strong>Ctrl+C</strong> to get out of a partially-complete command.</p>
<p>Pasting code line-by-line is useful but prone to input errors with multi-line expressions. Alternately, you can run commands or an entire file using the GUI or keyboard shortcuts such as <strong>Ctrl+Enter</strong>. You have a chance to try this in the example at the end.</p>
</div>
<div id="somepackage-is-not-available-for-r-version-x.y.z" class="section level4" number="0.1.5.2">
<h4><span class="header-section-number">0.1.5.2</span> <code>‘SOMEPACKAGE’ is not available (for R version X.Y.Z)</code></h4>
<p>This means <em>either</em>:</p>
<ol style="list-style-type: decimal">
<li><p>A package named ‘SOMEPACKAGE’ exists but it is not available for your version of <strong>R</strong></p></li>
<li><p>CRAN does not have a package with that name</p></li>
</ol>
<p>You can try again, but first check for spelling and case-sensitivity. When in doubt search the package name on Google or CRAN to make sure you have it right.</p>
<p>Note that not all <strong>R</strong> packages are available on CRAN: there are many other ways that you can deliver packages (including GitHub described below).</p>
</div>
</div>
<div id="packages-not-on-cran" class="section level3" number="0.1.6">
<h3><span class="header-section-number">0.1.6</span> Packages not on CRAN</h3>
<!-- These packages aren't available to our computers as we are stuck at an older version of R, or not currently on CRAN. The `soilDB` and `sharpshootR` packages should be back on CRAN by early February. 


```{.r .codeBlocks}
# temporary CRAN fix - get previous version for R 4.0
install.packages('https://cran.microsoft.com/snapshot/2020-06-15/bin/windows/contrib/4.0/Rcpp_1.0.4.6.zip', repos = NULL)
install.packages("https://cran.microsoft.com/snapshot/2020-06-24/bin/windows/contrib/4.0/raster_3.1-5.zip", repos = NULL)
install.packages("https://cran.microsoft.com/snapshot/2020-06-24/bin/windows/contrib/4.0/terra_0.6-9.zip", repos = NULL)

# temporary CRAN fix - get previous version of caTools
install.packages('https://cran.microsoft.com/snapshot/2019-04-15/bin/windows/contrib/3.6/caTools_1.17.1.2.zip', repos = NULL)

# RODBC binaries are no longer available for R 3.6.3 from CRAN. It depends on R 4.0.0. 
# The following call pulls the binaries from the “old” 3.6 release.
install.packages('https://cran.r-project.org/bin/windows/contrib/3.6/RODBC_1.3-16.zip', repos = NULL)
```
-->
<p>To install the latest version of packages from the Algorithms for Quantitative Pedology (AQP) suite off GitHub we use the <code>remotes</code> package.</p>
<p>The AQP packages are updated much more frequently on GitHub than they are on CRAN.</p>
<p>Generally, the CRAN versions (installed above) are the “stable” releases whereas the GitHub repositories have new features and bug fixes.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r codeBlocks"><code class="sourceCode r"><span id="cb4-1"><a href="index.html#cb4-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;ncss-tech/aqp&quot;</span>, <span class="at">dependencies=</span><span class="cn">FALSE</span>, <span class="at">upgrade=</span><span class="cn">FALSE</span>, <span class="at">build=</span><span class="cn">FALSE</span>)</span>
<span id="cb4-2"><a href="index.html#cb4-2" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;ncss-tech/soilDB&quot;</span>, <span class="at">dependencies=</span><span class="cn">FALSE</span>, <span class="at">upgrade=</span><span class="cn">FALSE</span>, <span class="at">build=</span><span class="cn">FALSE</span>)</span>
<span id="cb4-3"><a href="index.html#cb4-3" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;ncss-tech/soilReports&quot;</span>, <span class="at">dependencies=</span><span class="cn">FALSE</span>, <span class="at">upgrade=</span><span class="cn">FALSE</span>, <span class="at">build=</span><span class="cn">FALSE</span>)</span>
<span id="cb4-4"><a href="index.html#cb4-4" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;ncss-tech/sharpshootR&quot;</span>, <span class="at">dependencies=</span><span class="cn">FALSE</span>, <span class="at">upgrade=</span><span class="cn">FALSE</span>, <span class="at">build=</span><span class="cn">FALSE</span>)</span></code></pre></div>
</div>
</div>
<div id="connect-to-local-nasis" class="section level2" number="0.2">
<h2><span class="header-section-number">0.2</span> Connect to Local NASIS</h2>
<p>Establish an ODBC connection to NASIS by following the directions at the following hyperlink (<a href="http://ncss-tech.github.io/AQP/soilDB/setup_local_nasis.html">ODBC Connection to NASIS</a>).</p>
<p>Once you’ve successfully established a ODBC connection, prove it by loading your NASIS selected set with the site and pedon tables for any pedons from your local area. You only need a few pedons at a minimum for this demo – too many (say, &gt;20) will make the example profile plot cluttered.</p>
<ul>
<li><p>Paste the below code at the command prompt (<code>&gt;</code>) and press <strong>enter</strong>, as you did above.</p></li>
<li><p>Or create a new <strong>R</strong> script (Main menu: <strong>File → New File → R Script</strong>) and paste code into the “Source” pane (script editor window). Then, click the <strong>Run</strong> button in the top-right corner of the Script Editor or use <strong>Ctrl+Enter</strong> to run code at the cursor location / any selected code. This will execute the code in the Console.</p></li>
</ul>
<p>Submit the resulting plot to your mentor (from “Plot” pane (bottom-right): <strong>Export → Save as PDF…</strong>)</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r codeBlocks"><code class="sourceCode r"><span id="cb5-1"><a href="index.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages into the current session</span></span>
<span id="cb5-2"><a href="index.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(aqp) <span class="co"># provides &quot;SoilProfileCollection&quot; object &amp; more</span></span>
<span id="cb5-3"><a href="index.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(soilDB) <span class="co"># provides database access methods</span></span>
<span id="cb5-4"><a href="index.html#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="index.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># get pedons from NASIS selected set</span></span>
<span id="cb5-6"><a href="index.html#cb5-6" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">fetchNASIS</span>(<span class="at">from =</span> <span class="st">&#39;pedons&#39;</span>)</span>
<span id="cb5-7"><a href="index.html#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="index.html#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect the result</span></span>
<span id="cb5-9"><a href="index.html#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(test, <span class="at">max.level =</span> <span class="dv">2</span>)</span>
<span id="cb5-10"><a href="index.html#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="index.html#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co"># make a profile plot</span></span>
<span id="cb5-12"><a href="index.html#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="index.html#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co"># set margins smaller than default</span></span>
<span id="cb5-14"><a href="index.html#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb5-15"><a href="index.html#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="index.html#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co"># make profile plot of selected set, with userpedonid as label</span></span>
<span id="cb5-17"><a href="index.html#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(test, <span class="at">label=</span><span class="st">&#39;pedon_id&#39;</span>)</span></code></pre></div>
<div id="demonstrate-a-working-connection" class="section level3" number="0.2.1">
<h3><span class="header-section-number">0.2.1</span> Demonstrate a Working Connection</h3>
<p>Follow the one line example below, copy the output, and submit the results to your mentor. This will help us to verify that all of the required packages have been installed.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r codeBlocks"><code class="sourceCode r"><span id="cb6-1"><a href="index.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dump list of packages that are loaded into the current session</span></span>
<span id="cb6-2"><a href="index.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
</div>
</div>
<div id="additional-supportoptional-readings" class="section level2" number="0.3">
<h2><span class="header-section-number">0.3</span> Additional Support/Optional Readings</h2>
<ul>
<li><a href="http://rspatial.org/">Spatial Data Analysis and Modeling with R</a> (highly recommended)</li>
<li><a href="https://cran.r-project.org/doc/manuals/r-release/R-intro.pdf">R-Intro</a></li>
<li><a href="ftp://cran.r-project.org/pub/R/doc/contrib/Paradis-rdebuts_en.pdf">R for Beginners</a></li>
<li><a href="http://www.burns-stat.com/documents/books/the-r-inferno/">The R Inferno</a></li>
<li><a href="http://ncss-tech.github.io/AQP/">AQP Website and Tutorials</a></li>
<li><a href="https://www.youtube.com/watch?v=G5mFt9k37a4">Stats for Soil Survey Webinar</a></li>
<li><a href="https://www.youtube.com/watch?v=wD9Y0Qpv5Tw">Soil Data Aggregation using R Webinar</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="intro.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["s4ssbook.pdf", "s4ssbook.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
